<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>jstree basic demos</title>
	<style>
		html {
			margin: 0;
			padding: 0;
			font-size: 62.5%;
		}

		body {
			max-width: 800px;
			min-width: 300px;
			margin: 0 auto;
			padding: 20px 10px;
			font-size: 14px;
			font-size: 1.4em;
		}

		h1 {
			font-size: 1.8em;
		}

		.demo {
			overflow: auto;
			border: 1px solid silver;
			min-height: 100px;
		}
	</style>
	<link rel="stylesheet" href="./../../dist/themes/default/style.min.css" />

	<!--jQuery-UI-Icon å›¾åº“ https://api.jqueryui.com/resources/icons-list.html -->
	<link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
</head>

<body>
	<i class="ui-icon ui-icon-triangle-1-e"></i> é’¥åŒ™å›¾æ ‡ğŸ”‘
	<h1>HTML demo</h1>
	<div id="html" class="demo">
		<ul>
			<li data-jstree='{ "opened" : true }'>Root node
				<ul>
					<li data-jstree='{ "selected" : true }'>Child node 1</li>
					<li>Child node 2</li>
				</ul>
			</li>
		</ul>
	</div>

	<h1>Inline data demo</h1>
	<div id="data" class="demo"></div>

	<h1>Data format demo</h1>
	<div id="frmt" class="demo"></div>

	<h1>AJAX demo</h1>
	<div id="ajax" class="demo"></div>

	<h1>Lazy loading demo</h1>
	<div id="lazy" class="demo"></div>

	<h1>Callback function data demo</h1>
	<div id="clbk" class="demo"></div>

	<h1>Interaction and events demo</h1>
	<button id="evts_button">select node with id 1</button> <em>either click the button or a node in the tree</em>
	<div id="evts" class="demo"></div>

	<h2>MultiSelected å¤šé€‰</h2>
	ä½ é€‰æ‹©çš„èŠ‚ç‚¹æœ‰ï¼š<span id="event_result"></span>
	<div id="MultiSelectDiv" class="demo"></div>
	

	<hr>
	<center>===ä¸‹é¢æ˜¯æ’ä»¶æ¼”ç¤º===</center>
	<a href="https://www.jstree.com/plugins/">å®˜æ–¹æ’ä»¶å­¦ä¹ åœ°å€</a>
	<h1>Search Plugin Demoï¼ˆæœç´¢æ’ä»¶ï¼‰</h1>
	èŠ‚ç‚¹åç§°ï¼š<input type="text" id="searchInput" placeholder="è¯·è¾“å…¥èŠ‚ç‚¹åç§°">
	<div id="searchDiv" class="demo"></div>

	<h2>Sort Plugin Demoï¼ˆæœç´¢æ’ä»¶ï¼‰</h2>
	<div id="sortDiv" class="demo"></div>

	<h2>Status Plugin Demoï¼ˆæŠ˜å /å±•å¼€ï¼‰</h2>
	<div id="statusDiv" class="demo"></div>

	<h2>Types & Wholerow Plugin Demoï¼ˆä¸åŒèŠ‚ç‚¹ç±»å‹åˆ†ç±»å¤„ç†ï¼‰</h2>
	<p>æ’ä»¶ wholerow å»æ‰è¿æ¥è™šçº¿</p>
	<div id="typesIconDiv" class="demo"></div>

	<h2>Unique Plugin Demo ï¼ˆå»é‡æ’ä»¶ï¼‰</h2>
	<div id="uniqueDiv" class="demo"></div>

	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
	<script src="./../../dist/jstree.min.js"></script>

	<script>

		// html demo
		$('#html').jstree();

		// inline data demo
		$('#data').jstree({
			'core': {
				'data': [
					{
						"text": "Root node", "children": [
							{ "text": "Child node 1" },
							{
								"text": "Child node 2", "children": [
									{ "text": "Child node 3", "icon": "http://jstree.com/tree-icon.png" },
									{ "text": "Child node 4" },
								]
							}
						]
					}
				],

			},
			"checkbox": {
				"keep_selected_style": false
			},
			"plugins": ["checkbox"]
		});

		// data format demo
		$('#frmt').jstree({
			'core': {
				'data': [
					{
						"text": "Root node",
						"state": { "opened": true }, // å°†æ ‘å›¾å±•å¼€
						"children": [
							{
								"text": "Child node 1",
								"state": { "selected": true },
								"icon": "jstree-file"
							},
							{ "text": "Child node 2", "state": { "disabled": true } }
						]
					}
				]
			}
		});

		// ajax demo
		$('#ajax').jstree({
			'core': {
				'data': {
					"url": "./root.json",
					"dataType": "json" // needed only if you do not supply JSON headers
				}
			}
		});

		// lazy demo
		$('#lazy').jstree({
			'core': {
				'data': {
					"url": "//www.jstree.com/fiddle/?lazy",
					"data": function (node) {
						return { "id": node.id };
					}
				}
			}
		});

		// data from callback
		$('#clbk').jstree({
			'core': {
				'data': function (node, cb) {
					// çœ‹çœ‹node çš„ç›¸å…³å±æ€§
					// console.log("nodeèŠ‚ç‚¹çš„ç›¸å…³å±æ€§: ", node)
					// node.icon = "http://jstree.com/tree-icon.png" // è®¾ç½®nodeèŠ‚ç‚¹çš„å›¾æ ‡
					if (node.id === "#") {
						cb([{ "text": "Root", "id": "1", "children": true }]);
					}
					else {
						cb(["Child"]);
					}
				}
			}
		});

		// interaction and events
		$('#evts_button').on("click", function () {
			var instance = $('#evts').jstree(true);
			instance.deselect_all(); // å»é™¤æ‰€æœ‰é€‰ä¸­çš„èŠ‚ç‚¹
			instance.select_node('1'); // æŒ‡å®šidå€¼ä¸º1çš„é€‰ä¸­
		});
		$('#evts').on("changed.jstree", function (e, data) {
			if (data.selected.length) {
				alert('The selected node is: ' + data.instance.get_node(data.selected[0]).text);
			}
			// ç‚¹å‡»ä¹‹åæ›¿æ¢å›¾æ ‡
			data.instance.set_icon(data.node, 'http://jstree.com/tree-icon.png');
		}).jstree({
			'core': {
				'multiple': false, // ç¦ç”¨å¤šé€‰å±æ€§
				'data': [
					{
						"text": "Root node", "children": [
							{ "text": "Child node 1", "id": 1 },
							{ "text": "Child node 2" }
						]
					}
				]
			}
		});





		// MultiSelected Demo
		$('#MultiSelectDiv')
			// listen for event
			.on('changed.jstree', function (e, data) {
				var i, j, r = [];
				for (i = 0, j = data.selected.length; i < j; i++) {
					r.push(data.instance.get_node(data.selected[i]).text);
				}
				$('#event_result').html('Selected: ' + r.join(', '));
			})
			// create the instance
			.jstree({
				'core': {
					// 'multiple': false, // ç¦ç”¨å¤šé€‰
					'data': [
						{
							"text": "Root node", "children": [
								{ "text": "Child node 1", "id": 1 },
								{ "text": "Child node 2" }
							]
						}
					]
				}
			});





		// Search Demo
		$("#searchDiv").jstree({
			'core': {
				'data': [
					{
						"text": "Root node", "children": [
							{ "text": "Child node 1", 'id': '1' },
							{
								"text": "Child node 2", "children": [
									{ "text": "Child node 3", "icon": "http://jstree.com/tree-icon.png" },
									{ "text": "Child node 4" },
								]
							}
						]
					}
				],

			},
			"plugins": ["search"]
		});
		var to = false;
		$('#searchInput').keyup(function () {
			if (to) { clearTimeout(to); }
			to = setTimeout(function () {
				var v = $('#searchInput').val();
				$('#searchDiv').jstree(true).search(v);
			}, 250);
		});





		// Sort Plugin
		$("#sortDiv").jstree({
			'core': {
				'data': [
					{
						"text": "Root node", "children": [
							{ "text": "Child node 6" },
							{
								"text": "Child node 2", "children": [
									{ "text": "Child node 23", "icon": "http://jstree.com/tree-icon.png" },
									{ "text": "Child node 10" },
								]
							}
						]
					}
				],

			},
			"plugins": ["sort"]
		});




		// Status Plugin ï¼ˆæŠ˜å /å±•å¼€ï¼‰çŠ¶æ€ã€æ³¨æ„ï¼šæ’ä»¶åä¸º status, å±æ€§åä¸º state ã€‘
		$("#statusDiv").jstree({
			'core': {
				"animation": 0,
				"check_callback": true,
				"themes": { "stripes": true },
				// ä¸Šé¢ä¸‰ä¸ªå±æ€§é…ç½®ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯ä¸‹é¢çš„ã€‚
				'data': [
					{
						"text": "Root node",
						"state": { "opened": true },
						"children": [
							{
								"text": "Child node 1",
								"state": { "opened": true }
							},
							{
								"text": "Child node 2",
								"state": { "selected": true, "opened": true },
								"children": [
									{ "text": "Child node 3", "state": { "opend": true, "disabled": true } },
									{ "text": "Child node 4", "state": { "opend": true, "selected": true } },
								]
							}
						]
					}
				],
			},
			'plugins': ['status', "wholerow"]// æ’ä»¶ wholerow å»æ‰è¿æ¥è™šçº¿
		});


		// Types Plugin (å›¾æ ‡ä¿®æ”¹æ’ä»¶) / Wholerow
		$("#typesIconDiv").jstree({
			'core': {
				'data': [
					{
						"text": "Root node", 'type': "root", "children": [
							{ "text": "Child node 1" },
							{
								"text": "Child node 2", "children": [
									{ "text": "Child node 3", "icon": "http://jstree.com/tree-icon.png" },
									{ "text": "Child node 4" },
								]
							}
						]
					}
				],

			},
			"types": {
				"root": {
					"icon": "jstree-file"
				},
				"default": {
					// "icon": "./img/a1.ico"
					// "icon": "glyphicon glyphicon-flash"
					"icon": "jstree-folder"
				},
				"demo": {
					// "icon": "glyphicon glyphicon-ok"
					"icon": "http://jstree.com/tree-icon.png"
				}
			},
			"plugins": ["types", "wholerow"] // æ·»åŠ äº†æ’ä»¶ â€œwholerowâ€ åˆ™å»æ‰äº† è¿æ¥çš„è™šçº¿
		});


		// Unique Plugin && Drag Plugin
		// å¦‚æœæœ‰ä¸¤ä¸ªid ç›¸åŒï¼Œåˆ™ä½¿ç”¨æœ€åä¸€ä¸ªä½œä¸ºå…¬å…±çš„èŠ‚ç‚¹åå­—
		$("#uniqueDiv").jstree({
			"core": {
				'data': [
					{
						"text": "Root node", "children": [
							{ "text": "Child node 1" },
							{
								"text": "Child node 2", "children": [
									{ "text": "Child node 399999", "id": 2, "icon": "http://jstree.com/tree-icon.png" },
									{ "text": "Child node 42", "id": 2 },
								]
							}
						]
					}
				],
				"check_callback": true
			},
			"plugins": ["unique", "dnd"] // æ’ä»¶ dnd ä½¿å¾—æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥ç›´æ¥æ‹–æ‹‰åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸‹
		});
		$("#uniqueDiv").jstree().open_all();
	</script>
</body>

</html>